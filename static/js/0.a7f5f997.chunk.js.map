{"version":3,"sources":["C:/Users/ligsh/tonva/tonva-tools/dist/entry/login.js","C:/Users/ligsh/tonva/tonva-tools/dist/entry/userApi.js","webpack:///C:/Users/ligsh/tonva/tonva-tools/dist/css/va-form.css?11f4","C:/Users/ligsh/tonva/tonva-tools/dist/entry/register.js","C:/Users/ligsh/tonva/tonva-tools/dist/entry/regSuccess.js","C:/Users/ligsh/tonva/tonva-tools/dist/css/va-form.css","C:/Users/ligsh/tonva/tonva-tools/dist/entry/forget.js"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0_react__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_1_reactstrap__","n","__WEBPACK_IMPORTED_MODULE_2__ui__","__WEBPACK_IMPORTED_MODULE_3__register__","__WEBPACK_IMPORTED_MODULE_4__forget__","__WEBPACK_IMPORTED_MODULE_5__userApi__","__WEBPACK_IMPORTED_MODULE_6____","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","logo","[object Object]","super","arguments","schema","fields","type","name","placeholder","rules","onSumit","onLoginSubmit","bind","values","un","pwd","undefined","alert","user","login","clear","errors","push","console","log","token","logined","replace","footer","className","color","style","margin","onClick","header","top","props","withBack","maxWidth","padding","display","position","src","height","flex","fontSize","alignSelf","textAlign","formSchema","block","__WEBPACK_IMPORTED_MODULE_0__net__","__WEBPACK_IMPORTED_MODULE_1__user__","userApi","params","device","local","get","ret","nick","icon","post","content","module","i","options","hmr","transform","locals","exports","__WEBPACK_IMPORTED_MODULE_1__ui__","__WEBPACK_IMPORTED_MODULE_2__login__","__WEBPACK_IMPORTED_MODULE_3__userApi__","__WEBPACK_IMPORTED_MODULE_4__regSuccess__","__WEBPACK_IMPORTED_MODULE_5__css_va_form_css__","submitText","msg","rePwd","country","mobile","email","inputs","register","show","__WEBPACK_IMPORTED_MODULE_4__css_va_form_css__","retUser","failed","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"mDAAAA,OAAAC,eAAAC,EAAA,cAAAC,OAAA,QAAAC,EAAAC,EAAA,GAAAC,GAAAD,EAAAE,EAAAH,GAAAC,EAAA,KAAAG,EAAAH,EAAA,IAAAI,EAAAJ,EAAA,KAAAK,EAAAL,EAAA,KAAAM,EAAAN,EAAA,KAAAO,EAAAP,EAAA,GAAAQ,EAAAC,WAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GACA,WAAAD,MAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAAnB,GAAmC,IAAMoB,EAAAL,EAAAM,KAAArB,IAA+B,MAAAsB,GAAYJ,EAAAI,IACpF,SAAAC,EAAAvB,GAAkC,IAAMoB,EAAAL,EAAA,MAAAf,IAAmC,MAAAsB,GAAYJ,EAAAI,IACvF,SAAAF,EAAAI,GAA+BA,EAAAC,KAAAR,EAAAO,EAAAxB,OAAA,IAAAc,EAAA,SAAAG,GAAiEA,EAAAO,EAAAxB,SAAyB0B,KAAAP,EAAAI,GACzHH,GAAAL,IAAAY,MAAAf,EAAAC,QAAAQ,WAUA,MAAAO,EAAa1B,EAAQ,KAwFpBH,EAAA,sBA5EkCE,EAAA,UACnC4B,cACAC,SAAAC,WACApB,KAAAqB,OAAA,IAA0B3B,EAAA,GAC1B4B,SAEAC,KAAA,SACAC,KAAA,WACAC,YAAA,qBACAC,OAAA,8BAGAH,KAAA,WACAC,KAAA,WACAC,YAAA,eACAC,OAAA,8BAGAC,QAAA3B,KAAA4B,cAAAC,KAAA7B,QAGAkB,cAAAY,GACA,OAAA/B,EAAAC,UAAA,qBACA,IAAA+B,EAAAD,EAAA,SACAE,EAAAF,EAAA,SACA,QAAAG,IAAAD,EAEA,YADAE,MAAA,qCAGA,IAAAC,QAA6BtC,EAAA,EAAOuC,OACpCD,KAAAJ,EACAC,aAEAC,IAAAE,GAEAnC,KAAAqB,OAAAgB,QACArC,KAAAqB,OAAAiB,OAAAC,KAAA,sDAGAC,QAAAC,IAAA,gCAAAN,EAAAX,KAAAW,EAAAO,aACsBhD,EAAA,EAAGiD,QAAAR,MAKzBjB,QACQxB,EAAA,EAAGkD,QAAStD,EAAA,cAAoBK,EAAA,EAAY,OAEpDuB,SACA,IAAA2B,EAAqBvD,EAAA,cAAmB,OAASwD,UAAA,eACrCxD,EAAA,cAAoBE,EAAA,GAASuD,MAAA,OAAAC,OAAwBC,OAAA,YAAqBC,QAAA,IAAiBxD,EAAA,EAAG6C,KAAMjD,EAAA,cAAoBK,EAAA,EAAY,QAAU,iEAC1JwD,GAAA,EACAC,EAAA,eAKA,OAJA,IAAApD,KAAAqD,MAAAC,WACAH,EAAA,eACAC,EAAA,4BAEe9D,EAAA,cAAoBI,EAAA,GAAOyD,SAAAN,UAC9BvD,EAAA,cAAmB,OAAS0D,OACxCO,SAAA,QACAN,OAAA,YACAO,QAAA,WAEgBlE,EAAA,cAAmB,OAASwD,UAAA,YAAAE,OAAiCS,QAAA,OAAAC,SAAA,aACzDpE,EAAA,cAAmB,OAASwD,UAAA,WAAAa,IAAA1C,EAAA+B,OAA2CY,OAAA,OAAAF,SAAA,cACvEpE,EAAA,cAAmB,QAAU0D,OAASa,KAAA,EAC1DC,SAAA,UACAC,UAAA,SACAC,UAAA,SACAf,OAAA,SAC2BG,IACX9D,EAAA,cAAmB,OAAS0D,OAASY,OAAA,UACrCtE,EAAA,cAAoBQ,EAAA,GAAYmE,WAAAjE,KAAAqB,UACpC/B,EAAA,cAAmB,OAASwD,UAAA,cACxBxD,EAAA,cAAoBE,EAAA,GAASuD,MAAA,OAAAmB,OAAA,EAAAhB,QAAA,IAA4CxD,EAAA,EAAG6C,KAAMjD,EAAA,cAAoBM,EAAA,EAAM,QAAU,kECrGtI,IAAAuE,EAAA5E,EAAA,IAAA6E,EAAA7E,EAAA,KAAAG,EAAAH,EAAA,IAAAQ,EAAAC,WAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GACA,WAAAD,MAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAAnB,GAAmC,IAAMoB,EAAAL,EAAAM,KAAArB,IAA+B,MAAAsB,GAAYJ,EAAAI,IACpF,SAAAC,EAAAvB,GAAkC,IAAMoB,EAAAL,EAAA,MAAAf,IAAmC,MAAAsB,GAAYJ,EAAAI,IACvF,SAAAF,EAAAI,GAA+BA,EAAAC,KAAAR,EAAAO,EAAAxB,OAAA,IAAAc,EAAA,SAAAG,GAAiEA,EAAAO,EAAAxB,SAAyB0B,KAAAP,EAAAI,GACzHH,GAAAL,IAAAY,MAAAf,EAAAC,QAAAQ,WAiCA,MAAA2D,EAAA,kBA3B6BF,EAAA,EAC7BjD,MAAAoD,GACA,OAAAvE,EAAAC,UAAA,qBACAsE,EAAAC,OAA4B7E,EAAA,EAAG8E,MAAAD,OAAAE,MAC/B,IAAAC,QAAA1E,KAAAyE,IAAA,QAAAH,GACA,cAAAI,GACA,eACA,oBAAsCxF,OAAAkF,EAAA,EAAAlF,CAAWwF,GACjD,aACA,IAAAhC,EAAAgC,EAAAhC,MACAP,EAA+BjD,OAAAkF,EAAA,EAAAlF,CAAWwD,IAC1CiC,KAAyBA,EAAAC,QAAaF,EAKtC,OAJAC,IACAxC,EAAAwC,QACAC,IACAzC,EAAAyC,QACAzC,KAKAjB,SAAAoD,GACA,OAAAvE,EAAAC,UAAA,qBACA,aAAAA,KAAA6E,KAAA,WAAAP,OAIA,gBAAArC,GACe7C,EAAA,yBCpCf,IAAA0F,EAAcvF,EAAQ,KACtB,kBAAAuF,QAA4CC,EAAAC,EAASF,EAAA,MAIrD,IAAAG,GAAeC,KAAA,EACfC,eAHAA,GAKa5F,EAAQ,IAARA,CAA8EuF,EAAAG,GAC3FH,EAAAM,SAAAL,EAAAM,QAAAP,EAAAM,0CCZA,IAAA9F,EAAAC,EAAA,GAAA+F,GAAA/F,EAAAE,EAAAH,GAAAC,EAAA,KAAAgG,EAAAhG,EAAA,KAAAiG,EAAAjG,EAAA,KAAAkG,EAAAlG,EAAA,KAAAmG,EAAAnG,EAAA,KAAAQ,GAAAR,EAAAE,EAAAiG,GAAA1F,WAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GACA,WAAAD,MAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAAnB,GAAmC,IAAMoB,EAAAL,EAAAM,KAAArB,IAA+B,MAAAsB,GAAYJ,EAAAI,IACpF,SAAAC,EAAAvB,GAAkC,IAAMoB,EAAAL,EAAA,MAAAf,IAAmC,MAAAsB,GAAYJ,EAAAI,IACvF,SAAAF,EAAAI,GAA+BA,EAAAC,KAAAR,EAAAO,EAAAxB,OAAA,IAAAc,EAAA,SAAAG,GAAiEA,EAAAO,EAAAxB,SAAyB0B,KAAAP,EAAAI,GACzHH,GAAAL,IAAAY,MAAAf,EAAAC,QAAAQ,YASA,MAAAO,EAAa1B,EAAQ,KAuGpBH,EAAA,gBAtGqCE,EAAA,UACtC4B,cACAC,SAAAC,WACApB,KAAAqB,OAAA,IAA0BiE,EAAA,GAC1BhE,SAEAC,KAAA,SACAC,KAAA,OACAC,YAAA,qBACAC,OAAA,8BAGAH,KAAA,WACAC,KAAA,MACAC,YAAA,eACAC,OAAA,8BAGAH,KAAA,WACAC,KAAA,QACAC,YAAA,2BACAC,OAAA,8BAGAiE,WAAA,iCACAhE,QAAA3B,KAAA4B,cAAAC,KAAA7B,QAGAkB,cAAAY,GACA,OAAA/B,EAAAC,UAAA,qBAeA,IAeA4F,GAfAzD,KAAiBA,EAAAH,MAAA6D,QAAAC,UAAAC,SAAAC,SAA2ClE,EAC5D,GAAAE,IAAA6D,EAIA,OAHA7F,KAAAqB,OAAAiB,OAAAC,KAAA,kFACAvC,KAAAqB,OAAA4E,OAAA,IAAA5D,aACArC,KAAAqB,OAAA4E,OAAA,MAAA5D,QAYA,aAT4BmD,EAAA,EAAOU,UACnCvB,UAAA1C,EACAE,OACAH,MACA8D,aAAA7D,EACA8D,YAAA9D,EACA+D,WAAA/D,KAIA,8BACA,OAGA,OAFoBqD,EAAA,EAAGjD,aACHiD,EAAA,EAAGa,KAAM7G,EAAA,cAAoBmG,EAAA,GAAatD,OAAAH,SAE9D,OACA4D,EAAA,sBAAAzD,EACA,MACA,OACAyD,EAAA,uBAAAE,EAAA,IAAAC,EACA,MACA,OACAH,EAAA,4BAAAI,EAGAhG,KAAAqB,OAAAiB,OAAAC,KAAAqD,EAAA,iDAIA1E,QACQoE,EAAA,EAAG1C,QAAStD,EAAA,cAAoBiG,EAAA,QAAS,OAGjDrE,SACA,OAAe5B,EAAA,cAAoBgG,EAAA,GAAOnC,OAAA,gBAC9B7D,EAAA,cAAmB,OAAS0D,OACxCO,SAAA,QACAN,OAAA,YACAO,QAAA,WAEgBlE,EAAA,cAAmB,OAASwD,UAAA,YAAAE,OAAiCS,QAAA,OAAAC,SAAA,aACzDpE,EAAA,cAAmB,OAASwD,UAAA,WAAAa,IAAA1C,EAAA+B,OAA2CY,OAAA,OAAAF,SAAA,cACvEpE,EAAA,cAAmB,QAAU0D,OAASa,KAAA,EAC1DC,SAAA,UACAC,UAAA,SACAC,UAAA,SACAf,OAAA,SAC2B,iBACX3D,EAAA,cAAmB,OAAS0D,OAASY,OAAA,UACrCtE,EAAA,cAAoBgG,EAAA,GAAYrB,WAAAjE,KAAAqB,+CCnHhD,IAAA/B,EAAAC,EAAA,GAAAC,GAAAD,EAAAE,EAAAH,GAAAC,EAAA,KAAAG,EAAAH,EAAA,IAAAiG,EAAAjG,EAAA,KAAA6G,EAAA7G,EAAA,KAAAQ,GAAAR,EAAAE,EAAA2G,GAAApG,WAAAD,WAAA,SAAAE,EAAAC,EAAAC,EAAAC,GACA,WAAAD,MAAAE,UAAA,SAAAC,EAAAC,GACA,SAAAC,EAAAnB,GAAmC,IAAMoB,EAAAL,EAAAM,KAAArB,IAA+B,MAAAsB,GAAYJ,EAAAI,IACpF,SAAAC,EAAAvB,GAAkC,IAAMoB,EAAAL,EAAA,MAAAf,IAAmC,MAAAsB,GAAYJ,EAAAI,IACvF,SAAAF,EAAAI,GAA+BA,EAAAC,KAAAR,EAAAO,EAAAxB,OAAA,IAAAc,EAAA,SAAAG,GAAiEA,EAAAO,EAAAxB,SAAyB0B,KAAAP,EAAAI,GACzHH,GAAAL,IAAAY,MAAAf,EAAAC,QAAAQ,YAqCCtB,EAAA,gBA7BuCE,EAAA,UACxC4B,UAGAA,QACA,MAAAiB,KAAeA,EAAAH,OAAYhC,KAAAqD,MACnBmC,EAAA,EACRpD,OAAoBD,OAAAH,QACpBjB,KAAAsF,GAAAtG,EAAAC,UAAA,0BACAiC,IAAAoE,QAIkB3G,EAAA,EAAGiD,QAAA0D,GAHrBrG,KAAAsG,YAMApF,SACA,MAAAiB,KAAeA,EAAAH,OAAYhC,KAAAqD,MAC3B,OAAgB/D,EAAA,cAAoBI,EAAA,GAAOyD,QAAA,GAC/B7D,EAAA,cAAoBE,EAAA,GAAYsD,UAAA,cAC5BxD,EAAA,cAAoBE,EAAA,EAAI,KACpBF,EAAA,cAAmB,QAAUwD,UAAA,QACjD,gBACwBxD,EAAA,cAAmB,cAC3C6C,EACA,KACA,mCACoB7C,EAAA,cAAoBE,EAAA,GAASuD,MAAA,UAAAmB,OAAA,EAAAhB,QAAA,IAAAlD,KAAAoC,SAA6D,uDCxC9G2C,EAAAM,QAA2B9F,EAAQ,IAARA,EAA0E,IAKrGgD,MAAcwC,EAAAC,EAAS,qtBAAqtB,IAAQuB,QAAA,EAAAC,SAAA,yDAAAC,SAAAC,SAAA,mZAAAC,KAAA,cAAAC,gBAAA,y/BAAkhDC,WAAA,wCCLtwE,IAAAvH,EAAAC,EAAA,GAAA+F,GAAA/F,EAAAE,EAAAH,GAAAC,EAAA,KAMCH,EAAA,gBAJmCE,EAAA,UACpC4B,SACA,OAAe5B,EAAA,cAAoBgG,EAAA,GAAOnC,OAAA,4BAAqC","file":"static/js/0.a7f5f997.chunk.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport { nav, Page, FormSchema } from '../ui';\r\nimport RegisterView from './register';\r\nimport Forget from './forget';\r\nimport userApi from './userApi';\r\nimport { ValidForm } from '..';\r\nconst logo = require('../img/logo.svg');\r\n/*\r\nexport interface Values {\r\n    username: string;\r\n    password: string;\r\n}\r\n\r\nexport interface State {\r\n    values: Values;\r\n    hasError: boolean;\r\n    disabled: boolean;\r\n}*/\r\nexport default class Login extends React.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.schema = new FormSchema({\r\n            fields: [\r\n                {\r\n                    type: 'string',\r\n                    name: 'username',\r\n                    placeholder: '用户名',\r\n                    rules: ['required', 'maxlength:100']\r\n                },\r\n                {\r\n                    type: 'password',\r\n                    name: 'password',\r\n                    placeholder: '密码',\r\n                    rules: ['required', 'maxlength:100']\r\n                },\r\n            ],\r\n            onSumit: this.onLoginSubmit.bind(this),\r\n        });\r\n    }\r\n    onLoginSubmit(values) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let un = values['username'];\r\n            let pwd = values['password'];\r\n            if (pwd === undefined) {\r\n                alert('something wrong, pwd is undefined');\r\n                return;\r\n            }\r\n            let user = yield userApi.login({\r\n                user: un,\r\n                pwd: pwd\r\n            });\r\n            if (user === undefined) {\r\n                //this.failed();\r\n                this.schema.clear();\r\n                this.schema.errors.push('用户名或密码错！');\r\n            }\r\n            else {\r\n                console.log(\"onLoginSubmit: user=%s pwd:%s\", user.name, user.token);\r\n                yield nav.logined(user);\r\n            }\r\n            return undefined;\r\n        });\r\n    }\r\n    click() {\r\n        nav.replace(React.createElement(RegisterView, null));\r\n    }\r\n    render() {\r\n        let footer = React.createElement(\"div\", { className: 'text-center' },\r\n            React.createElement(Button, { color: \"link\", style: { margin: '0px auto' }, onClick: () => nav.push(React.createElement(RegisterView, null)) }, \"\\u5982\\u679C\\u6CA1\\u6709\\u8D26\\u53F7\\uFF0C\\u8BF7\\u6CE8\\u518C\"));\r\n        let header = false;\r\n        let top = '同花';\r\n        if (this.props.withBack === true) {\r\n            header = '登录';\r\n            top = '登录用户';\r\n        }\r\n        return React.createElement(Page, { header: header, footer: footer },\r\n            React.createElement(\"div\", { style: {\r\n                    maxWidth: '400px',\r\n                    margin: '20px auto',\r\n                    padding: '0 30px',\r\n                } },\r\n                React.createElement(\"div\", { className: 'container', style: { display: 'flex', position: 'relative' } },\r\n                    React.createElement(\"img\", { className: 'App-logo', src: logo, style: { height: '60px', position: 'absolute' } }),\r\n                    React.createElement(\"span\", { style: { flex: 1,\r\n                            fontSize: 'x-large',\r\n                            alignSelf: 'center',\r\n                            textAlign: 'center',\r\n                            margin: '10px',\r\n                        } }, top)),\r\n                React.createElement(\"div\", { style: { height: '20px' } }),\r\n                React.createElement(ValidForm, { formSchema: this.schema })),\r\n            React.createElement(\"div\", { className: 'constainer' },\r\n                React.createElement(Button, { color: \"link\", block: true, onClick: () => nav.push(React.createElement(Forget, null)) }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\")));\r\n    }\r\n}\r\n//# sourceMappingURL=login.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/ligsh/tonva/tonva-tools/dist/entry/login.js\n// module id = 304\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { CenterApi } from '../net';\r\nimport { decodeToken } from '../user';\r\nimport { nav } from '../ui';\r\nexport class UserApi extends CenterApi {\r\n    login(params) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            params.device = nav.local.device.get();\r\n            let ret = yield this.get('login', params);\r\n            switch (typeof ret) {\r\n                default: return;\r\n                case 'string': return decodeToken(ret);\r\n                case 'object':\r\n                    let token = ret.token;\r\n                    let user = decodeToken(token);\r\n                    let { nick, icon } = ret;\r\n                    if (nick)\r\n                        user.nick = nick;\r\n                    if (icon)\r\n                        user.icon = icon;\r\n                    return user;\r\n            }\r\n            // !== undefined) return decodeToken(token);\r\n        });\r\n    }\r\n    register(params) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.post('register', params);\r\n        });\r\n    }\r\n}\r\nconst userApi = new UserApi('tv/user/', undefined);\r\nexport default userApi;\r\n//# sourceMappingURL=userApi.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/ligsh/tonva/tonva-tools/dist/entry/userApi.js\n// module id = 307\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!D:\\\\_source\\\\jk-home\\\\node_modules\\\\css-loader\\\\index.js??ref--1-oneOf-3-2!D:\\\\_source\\\\jk-home\\\\node_modules\\\\postcss-loader\\\\lib\\\\index.js??postcss!./va-form.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!D:\\\\_source\\\\jk-home\\\\node_modules\\\\style-loader\\\\lib\\\\addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/ligsh/tonva/tonva-tools/dist/css/va-form.css\n// module id = 308\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as React from 'react';\r\nimport { nav, Page, FormSchema, ValidForm } from '../ui';\r\nimport LoginView from './login';\r\nimport userApi from './userApi';\r\nimport RegSuccess from './regSuccess';\r\nimport '../css/va-form.css';\r\nconst logo = require('../img/logo.svg');\r\nexport default class Register extends React.Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.schema = new FormSchema({\r\n            fields: [\r\n                {\r\n                    type: 'string',\r\n                    name: 'user',\r\n                    placeholder: '用户名',\r\n                    rules: ['required', 'maxlength:100']\r\n                },\r\n                {\r\n                    type: 'password',\r\n                    name: 'pwd',\r\n                    placeholder: '密码',\r\n                    rules: ['required', 'maxlength:100']\r\n                },\r\n                {\r\n                    type: 'password',\r\n                    name: 'rePwd',\r\n                    placeholder: '重复密码',\r\n                    rules: ['required', 'maxlength:100']\r\n                },\r\n            ],\r\n            submitText: '注册新用户',\r\n            onSumit: this.onLoginSubmit.bind(this),\r\n        });\r\n    }\r\n    onLoginSubmit(values) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            /*\r\n            let user = await userApi.login({\r\n                user: values['username'],\r\n                pwd: values['password']\r\n            });\r\n            if (user === undefined) {\r\n                //this.failed();\r\n                this.schema.clear();\r\n                this.schema.errors.push('用户名或密码错！');\r\n            } else {\r\n                nav.logined(user);\r\n            }\r\n            return undefined;*/\r\n            //const {user, pwd, rePwd, country, mobile, email} = this.state.values;\r\n            let { user, pwd, rePwd, country, mobile, email } = values;\r\n            if (pwd !== rePwd) {\r\n                this.schema.errors.push('密码不对，请重新输入密码！');\r\n                this.schema.inputs['pwd'].clear();\r\n                this.schema.inputs['rePwd'].clear();\r\n                return undefined;\r\n            }\r\n            let ret = yield userApi.register({\r\n                nick: undefined,\r\n                user: user,\r\n                pwd: pwd,\r\n                country: undefined,\r\n                mobile: undefined,\r\n                email: undefined,\r\n            });\r\n            let msg;\r\n            switch (ret) {\r\n                default: throw 'unknown return';\r\n                case 0:\r\n                    nav.clear();\r\n                    nav.show(React.createElement(RegSuccess, { user: user, pwd: pwd }));\r\n                    return;\r\n                case 1:\r\n                    msg = '用户名 ' + user;\r\n                    break;\r\n                case 2:\r\n                    msg = '手机号 +' + country + ' ' + mobile;\r\n                    break;\r\n                case 3:\r\n                    msg = '电子邮件 ' + email;\r\n                    break;\r\n            }\r\n            this.schema.errors.push(msg + ' 已经被注册过了');\r\n            return undefined;\r\n        });\r\n    }\r\n    click() {\r\n        nav.replace(React.createElement(LoginView, null));\r\n        //nav.replace(<RegisterView />);\r\n    }\r\n    render() {\r\n        return React.createElement(Page, { header: '\\u6CE8\\u518C' },\r\n            React.createElement(\"div\", { style: {\r\n                    maxWidth: '400px',\r\n                    margin: '20px auto',\r\n                    padding: '0 30px',\r\n                } },\r\n                React.createElement(\"div\", { className: 'container', style: { display: 'flex', position: 'relative' } },\r\n                    React.createElement(\"img\", { className: 'App-logo', src: logo, style: { height: '60px', position: 'absolute' } }),\r\n                    React.createElement(\"span\", { style: { flex: 1,\r\n                            fontSize: 'x-large',\r\n                            alignSelf: 'center',\r\n                            textAlign: 'center',\r\n                            margin: '10px',\r\n                        } }, \"\\u540C\\u82B1\")),\r\n                React.createElement(\"div\", { style: { height: '20px' } }),\r\n                React.createElement(ValidForm, { formSchema: this.schema })));\r\n    }\r\n}\r\n//# sourceMappingURL=register.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/ligsh/tonva/tonva-tools/dist/entry/register.js\n// module id = 309\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport * as React from 'react';\r\nimport { Container, Button, Form } from 'reactstrap';\r\nimport { nav, Page } from '../ui';\r\nimport userApi from './userApi';\r\nimport '../css/va-form.css';\r\nexport default class RegSuccess extends React.Component {\r\n    failed() {\r\n        return;\r\n    }\r\n    login() {\r\n        const { user, pwd } = this.props;\r\n        userApi\r\n            .login({ user: user, pwd: pwd })\r\n            .then((retUser) => __awaiter(this, void 0, void 0, function* () {\r\n            if (retUser === undefined) {\r\n                this.failed();\r\n                return;\r\n            }\r\n            yield nav.logined(retUser);\r\n        }));\r\n    }\r\n    render() {\r\n        const { user, pwd } = this.props;\r\n        return (React.createElement(Page, { header: false },\r\n            React.createElement(Container, { className: \"entry-form\" },\r\n                React.createElement(Form, null,\r\n                    React.createElement(\"span\", { className: \"info\" },\r\n                        \"\\u7528\\u6237 \",\r\n                        React.createElement(\"strong\", null,\r\n                            user,\r\n                            \" \"),\r\n                        \" \\u6CE8\\u518C\\u6210\\u529F\\uFF01\"),\r\n                    React.createElement(Button, { color: \"success\", block: true, onClick: () => this.login() }, \"\\u76F4\\u63A5\\u767B\\u5F55\")))));\r\n    }\r\n}\r\n//# sourceMappingURL=regSuccess.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/ligsh/tonva/tonva-tools/dist/entry/regSuccess.js\n// module id = 310\n// module chunks = 0","exports = module.exports = require(\"D:\\\\_source\\\\jk-home\\\\node_modules\\\\css-loader\\\\lib\\\\css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"div.entry-form{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;max-width:400px;margin:20px auto;padding:0 30px}div.entry-form>form{margin-top:50px}div.entry-form>form>button,div.entry-form>form>div,div.entry-form>form>input,div.entry-form>form>span{margin-top:20px}div.entry-form>form>span{display:block;color:red;padding:1px 15px}div.entry-form>form>span.info{color:green}div.entry-form>form>header{display:-ms-flexbox;display:flex;margin:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative}div.entry-form>form>header>img{position:absolute;left:0}div.entry-form>form>header>span{font-size:x-large;display:inline-block;margin-left:20px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/ligsh/tonva/tonva-tools/dist/css/va-form.css\"],\"names\":[],\"mappings\":\"AACA,eACC,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AACvB,sBAAuB,AAC3B,gBAAiB,AACjB,iBAAkB,AAClB,cAAgB,CAChB,AACD,oBACC,eAAiB,CACjB,AACD,sGAIC,eAAiB,CACjB,AACD,yBACC,cAAe,AACf,UAAW,AACX,gBAAkB,CAClB,AACD,8BACC,WAAa,CACb,AACD,2BACC,oBAAqB,AACrB,aAAc,AACd,SAAU,AACV,sBAAuB,AACnB,mBAAoB,AACxB,qBAAsB,AAClB,uBAAwB,AAC5B,iBAAmB,CACnB,AACD,+BACC,kBAAmB,AACnB,MAAQ,CACR,AACD,gCACC,kBAAmB,AACnB,qBAAsB,AACtB,gBAAkB,CAClB\",\"file\":\"va-form.css\",\"sourcesContent\":[\"\\r\\ndiv.entry-form {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\t-ms-flex-direction: column;\\r\\n\\t    flex-direction: column;\\r\\n\\tmax-width: 400px;\\r\\n\\tmargin: 20px auto;\\r\\n\\tpadding: 0 30px;\\r\\n}\\r\\ndiv.entry-form>form {\\r\\n\\tmargin-top: 50px;\\r\\n}\\r\\ndiv.entry-form>form>input, \\r\\ndiv.entry-form>form>button,\\r\\ndiv.entry-form>form>span,\\r\\ndiv.entry-form>form>div {\\r\\n\\tmargin-top: 20px;\\r\\n}\\r\\ndiv.entry-form>form>span {\\r\\n\\tdisplay: block;\\r\\n\\tcolor: red;\\r\\n\\tpadding: 1px 15px;\\r\\n}\\r\\ndiv.entry-form>form>span.info {\\r\\n\\tcolor: green;\\r\\n}\\r\\ndiv.entry-form>form>header {\\r\\n\\tdisplay: -ms-flexbox;\\r\\n\\tdisplay: flex;\\r\\n\\tmargin: 0;\\r\\n\\t-ms-flex-align: center;\\r\\n\\t    align-items: center;\\r\\n\\t-ms-flex-pack: center;\\r\\n\\t    justify-content: center;\\r\\n\\tposition: relative;\\r\\n}\\r\\ndiv.entry-form>form>header>img {\\r\\n\\tposition: absolute;\\r\\n\\tleft: 0;\\r\\n}\\r\\ndiv.entry-form>form>header>span {\\r\\n\\tfont-size: x-large;\\r\\n\\tdisplay: inline-block;\\r\\n\\tmargin-left: 20px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!C:/Users/ligsh/tonva/tonva-tools/dist/css/va-form.css\n// module id = 311\n// module chunks = 0","import * as React from 'react';\r\nimport { Page } from '../ui';\r\nexport default class Forget extends React.Component {\r\n    render() {\r\n        return React.createElement(Page, { header: '\\u5FD8\\u8BB0\\u5BC6\\u7801' }, \"\\u6B63\\u5728\\u8BBE\\u8BA1\\u4E2D...\");\r\n    }\r\n}\r\n//# sourceMappingURL=forget.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/ligsh/tonva/tonva-tools/dist/entry/forget.js\n// module id = 312\n// module chunks = 0"],"sourceRoot":""}